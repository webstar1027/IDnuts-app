<!--
  Generated template for the ShippingInfoPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar color="primary">
    <button ion-button="" menuToggle=""><ion-icon name="menu">

    </ion-icon></button>

    <ion-title>IDnuts</ion-title>
    <ion-buttons end>
      <button ion-button icon-only>
        <ion-icon name="notifications"></ion-icon>
      </button>
      <button ion-button icon-only>
        <ion-icon name="search"></ion-icon>
      </button>
    </ion-buttons>
  </ion-navbar>

</ion-header>


<ion-content padding>
  <div class="page-body">

    <div class="form-body">
      <h1 class="form_screen_heading" text-left="" margin-top="">Parcel Information
        <div float-right class="my-checkbox" *ngIf="shipping.user_id == user.id">
          <ion-label float-left for="edit" text-uppercase>Edit</ion-label>
          <ion-checkbox style="margin-top: 10px" id="edit" name="edit" [(ngModel)]="edit">
          </ion-checkbox>
        </div>
      </h1>
      <ngx-qrcode *ngIf="!edit" [qrc-value] = "createdCode" qrc-class = "aclass" qrc-errorCorrectionLevel = "L">
      </ngx-qrcode>
      <div class="form_holder custom-shadow" padding="" *ngIf="edit">
        <div class="view-info">
          <span class="felid-name">Shipper Company</span>
          <span class="felid-value">{{shipping.company}}</span>
        </div>
        <div class="view-info">
          <span class="felid-name">Location</span>
          <span class="felid-value">{{shipping.location}}</span>
        </div>
        <div class="view-info">
          <span class="felid-name">Product Type</span>
          <span class="felid-value">{{shipping.product_type}}</span>
        </div>
        <div class="view-info">
          <span class="felid-name">Delivery Date</span>
          <span class="felid-value">{{shipping.shipping_date | date}}</span>
        </div>
      </div>
      <div margin-top=""  text-center="">
        <button ion-button color="secondary" class="custom-shadow" (click)="deleteMe()">Delete</button>
      </div>
      <div *ngIf="(user.role_id == 4 || user.role_id == 3 || user.role_id == 1) && shipping.user_id == user.id && edit" margin-top=""  text-center="">
        <button ion-button class="custom-shadow" (click)="assign()" float-end="">{{shipping.receiver_id ? 'Update':'Assign'}} Receiver</button>

      </div>
    </div>
    <div *ngIf="shipping.unique_code && edit" class="genrate-code-con" style="position:relative;">

      <div class="genrate-code" style="top: 16vh;">
        <h1 style="color: white;padding-bottom: 10px;">Unique Code</h1>
        <span *ngFor="let code of unique_array" class="custom-shadow">{{code}}</span>
      </div>
    </div>
    <ion-row *ngIf="user && user.role_id != 3 && user.role_id != 4  && shipping && shipping.phone" text-center="" float-left="" style="width: 100%" margin-top="">
      <ion-col ><img (click)="call()"  style="width: 50px;" src="assets/img/phone.png"></ion-col>
    </ion-row>
  </div>

</ion-content>
